{
  "scopeName": "source.c.embedded.sql",
  "injectionSelector": "L:source.c - comment - string, L:source.cpp - comment - string, L:source.c++ - comment - string",
  "patterns": [
    {
      "include": "#embedded-sql"
    }
  ],
  "repository": {
    "sql-commit": {
      "match": "(?i)\\b(COMMIT)\\s+(WORK)?\\b",
      "captures": {
        "1": { "name": "keyword.other.sql.transaction.commit.c" },
        "2": { "name": "keyword.other.sql.transaction.work.c" }
      }
    },
    "sql-close": {
      "match": "(?i)\\b(CLOSE)\\b(\\s+[a-zA-Z_][a-zA-Z0-9_]*)?",
      "captures": {
        "1": { "name": "keyword.other.sql.cursor.close.c" }
      }
    },
    "sql-execute-immediate": {
      "match": "(?i)\\b(EXECUTE\\s+IMMEDIATE)\\s*(:[a-zA-Z_][a-zA-Z0-9_]*)\\b",
      "captures": {
        "1": { "name": "keyword.other.sql.execute-immediate.c" },
        "2": { "name": "variable.parameter.sql.host-variable.c" }
      }
    },
    "sql-execute": {
      "match": "(?i)\\b(EXECUTE)\\s+([a-zA-Z_][a-zA-Z0-9_]*)(?:\\s+(USING)\\s*(?:(DESCRIPTOR)\\s*(:(?:\\*)?[a-zA-Z_][a-zA-Z0-9_]*)|(?:(?:,)?\\s*(?::[a-zA-Z_][a-zA-Z0-9_]*|[a-zA-Z_][a-zA-Z0-9_]*\\[[^\\]]+\\]))*))?(?:\\s+(FOR)\\s+([a-zA-Z_][a-zA-Z0-9_]*|[0-9]+)\\s+(ROWS))?\\b",
      "captures": {
        "1": { "name": "keyword.other.sql.execute.c" },
        "3": { "name": "keyword.other.sql.using.c" },
        "4": { "name": "keyword.other.sql.descriptor.c" },
        "5": { "name": "variable.parameter.sql.descriptor-name.c" },
        "6": { "name": "keyword.other.sql.for.c" },
        "7": { "name": "constant.numeric.sql.rows.c" },
        "8": { "name": "keyword.other.sql.rows.c" }
      }
    },
    "sql-connect-reset": {
      "match": "(?i)\\b(CONNECT)\\s+(RESET)\\b",
      "captures": {
        "1": { "name": "keyword.other.sql.connect.c" },
        "2": { "name": "keyword.other.sql.reset.c" }
      }
    },
    "sql-connect": {
      "match": "(?i)\\b(CONNECT)(?:\\s+(TO)\\s*(?:(:[a-zA-Z_][a-zA-Z0-9_]*)|([a-zA-Z_][a-zA-Z0-9_]*)))?(?:\\s+(USER)\\s*(:[a-zA-Z_][a-zA-Z0-9_]*))?(?:\\s+(USING)\\s*(:[a-zA-Z_][a-zA-Z0-9_]*))?\\b",
      "captures": {
        "1": { "name": "keyword.other.sql.connect.c" },
        "2": { "name": "keyword.other.sql.to.c" },
        "3": { "name": "variable.parameter.sql.host-variable.c" },
        "5": { "name": "keyword.other.sql.user.c" },
        "6": { "name": "variable.parameter.sql.host-variable.c" },
        "7": { "name": "keyword.other.sql.using.c" },
        "8": { "name": "variable.parameter.sql.host-variable.c" }
      }
    },
    "sql-declare-section": {
      "match": "(?i)\\b(BEGIN|END)\\s+(DECLARE\\s+SECTION)\\b",
      "captures": {
        "1": { "name": "keyword.other.sql.begin-end.c" },
        "2": { "name": "keyword.other.sql.declare-section.c" }
      }
    },
    "sql-dataaccess": {
      "match": "(?i)\\b(ALTER|ASSOCIATE\\s+LOCATORS|CALL|CREATE|DECLARE\\s+CURSOR|DECLARE\\s+GLOBAL\\s+TEMPORARY\\s+TABLE|DECLARE\\s+STATEMENT|RENAME|REVOKE|ROLLBACK|ROLLBACK\\s+TO\\s+SAVEPOINT|SAVEPOINT|SELECT|SELECT\\s+INTO|SET\\s+CONNECTION|SET|SIGNAL|TRUNCATE|UPDATE|VALUES|VALUES\\s+INTO|WHENEVER|INTO|FROM|WHERE)\\b",
      "name": "keyword.other.sql.dataaccess.c"
    },
    "embedded-sql": {
      "name": "meta.embedded.sql.c",
      "begin": "(?i)\\b(EXEC)\\s+(SQL)\\b",
      "beginCaptures": {
        "1": { 
          "name": "keyword.control.directive.sql.exec.c"
        },
        "2": { 
          "name": "keyword.control.directive.sql.c"
        }
      },
      "end": ";",
      "endCaptures": {
        "0": { "name": "punctuation.terminator.sql.c" }
      },
      "patterns": [
        {
          "match": "(?i)\\b(INCLUDE)\\s+(SQLCA|SQLDA|[a-zA-Z_][a-zA-Z0-9_-]*)\\b",
          "captures": {
            "1": { "name": "keyword.control.directive.include.sql.c" },
            "2": { "name": "string.unquoted.sql.include.c" }
          }
        },
        {
          "include": "#sql-commit"
        },
        {
          "include": "#sql-close"
        },
        {
          "include": "#sql-execute-immediate"
        },
        {
          "include": "#sql-execute"
        },
        {
          "include": "#sql-connect-reset"
        },
        {
          "include": "#sql-connect"
        },
        {
          "include": "#sql-declare-section"
        },
        {
          "include": "#sql-dataaccess"
        },
        {
          "match": "(?i)\\b(ADD|AFTER|ALL|ALLOW|ALTER|AND|ANY|AS|ARRAY|ARRAY_EXISTS|ASENSITIVE|ASSOCIATE|ASUTIME|AT|AUDIT|AUX|AUXILIARY|BEFORE|BEGIN|BETWEEN|BUFFERPOOL|BY|CALL|CAPTURE|CASCADED|CASE|CAST|CCSID|CHAR|CHARACTER|CHECK|CLONE|CLUSTER|COLLECTION|COLLID|COLUMN|CONCAT|CONDITION|CONNECTION|CONSTRAINT|CONTAINS|CONTENT|CONTINUE|CREATE|CUBE|CURRENT|CURRENT_DATE|CURRENT_LC_CTYPE|CURRENT_PATH|CURRENT_SCHEMA|CURRENT_SERVER|CURRENT_TIME|CURRENT_TIMESTAMP|CURRENT_TIMEZONE|CURRVAL|CURSOR|DATA|DATABASE|DAY|DAYS|DBINFO|DECLARE|DEFAULT|DELETE|DESCRIPTOR|DETERMINISTIC|DISABLE|DISALLOW|DISTINCT|DO|DOCUMENT|DOUBLE|DROP|DSSIZE|DYNAMIC|EDITPROC|ELSE|ELSEIF|ENCODING|ENCRYPTION|END|ENDING|END-EXEC|ERASE|ESCAPE|EXCEPT|EXCEPTION|EXISTS|EXIT|EXPLAIN|EXTERNAL|FENCED|FETCH|FIELDPROC|FINAL|FIRST|FOR|FREE|FROM|FULL|FUNCTION|GENERATED|GET|GLOBAL|GO|GOTO|GRANT|GROUP|HANDLER|HAVING|HOLD|HOUR|HOURS|IF|IMMEDIATE|IN|INCLUSIVE|INDEX|INHERIT|INNER|INOUT|INSENSITIVE|INSERT|INTERSECT|INTO|IS|ISOBID|ITERATE|JAR|JOIN|KEEP|KEY|LABEL|LANGUAGE|LAST|LC_CTYPE|LEAVE|LEFT|LIKE|LIMIT|LOCAL|LOCALE|LOCATOR|LOCATORS|LOCK|LOCKMAX|LOCKSIZE|LONG|LOOP|MAINTAINED|MATERIALIZED|MICROSECOND|MICROSECONDS|MINUTES|MODIFIES|MONTH|MONTHS|NEXT|NEXTVAL|NO|NONE|NOT|NULL|NULLS|NUMPARTS|OBID|OF|OFFSET|OLD|ON|OPEN|OPTIMIZATION|OPTIMIZE|OR|ORDER|ORGANIZATION|OUT|OUTER|PACKAGE|PADDED|PARAMETER|PART|PARTITION|PARTITIONED|PARTITIONING|PATH|PIECESIZE|PERIOD|PLAN|PRECISION|PREPARE|PREVVAL|PRIOR|PRIQTY|PRIVILEGES|PROCEDURE|PROGRAM|PSID|PUBLIC|QUERY|QUERYNO|READS|REFERENCES|REFRESH|RELEASE|RENAME|RESIGNAL|REPEAT|RESTRICT|RESULT|RESULT_SET_LOCATOR|RETURN|RETURNS|REVOKE|RIGHT|ROLE|ROLLBACK|ROLLUP|ROUND_CEILING|ROUND_DOWN|ROUND_FLOOR|ROUND_HALF_DOWN|ROUND_HALF_EVEN|ROUND_HALF_UP|ROUND_UP|ROW|ROWSET|RUN|SAVEPOINT|SCHEMA|SCRATCHPAD|SECOND|SECONDS|SECQTY|SECURITY|SEQUENCE|SELECT|SENSITIVE|SESSION_USER|SET|SIGNAL|SIMPLE|SOME|SOURCE|SPECIFIC|STANDARD|STATIC|STATEMENT|STAY|STOGROUP|STORES|STYLE|SUMMARY|SYNONYM|SYSDATE|SYSTEM|SYSTIMESTAMP|TABLE|TABLESPACE|THEN|TRIGGER|TRUNCATE|TYPE|UNDO|UNION|UNIQUE|UNTIL|UPDATE|USER|USING|VALIDPROC|VALUE|VALUES|VARIABLE|VARIANT|VCAT|VERSIONING|VIEW|VOLATILE|VOLUMES|WHEN|WHENEVER|WHERE|WHILE|WITH|WLM|XMLCAST|XMLEXISTS|XMLNAMESPACES|YEAR|YEARS|ZONE)\\b",
          "name": "keyword.other.sql.reserved.c"
        },
        {
          "match": "(?i)\\b(ARRAY_AGG|AVG|CORR|CORRELATION|COUNT|COUNT_BIG|COVAR_POP|COVARIANCE|COVAR|COVAR_SAMP|COVARIANCE_SAMP|CUME_DIST|GROUPING|LISTAGG|MAX|MEDIAN|MIN|PERCENTILE_CONT|PERCENTILE_DISC|PERCENT_RANK|REGR_AVGX|REGR_AVGY|REGR_COUNT|REGR_INTERCEPT|REGR_R2|REGR_SLOPE|REGR_SXX|REGR_SXY|REGR_SYY|STDDEV_POP|STDDEV|STDDEV_SAMP|SUM|VAR_POP|VARIANCE|VAR|VAR_SAMP|VARIANCE_SAMP|XMLAGG)\\b\\s*\\(",
          "name": "support.function.aggregate.sql.c"
        },
        {
          "match": "(?i)\\b(ABS|ABSVAL|ACOS|ADD_DAYS|ADD_MONTHS|AI_ANALOGY|AI_COMMONALITY|AI_SEMANTIC_CLUSTER|AI_SIMILARITY|ARRAY_DELETE|ARRAY_FIRST|ARRAY_LAST|ARRAY_NEXT|ARRAY_PRIOR|ARRAY_TRIM|ASCII|ASCII_CHR|ASCII_STR|ASCIISTR|ASIN|ATAN|ATANH|ATAN2|BIGINT|BINARY|BITAND|BITANDNOT|BITOR|BITXOR|BITNOT|BLOB|BTRIM|CARDINALITY|CCSID_ENCODING|CEILING|CEIL|CHAR|CHAR9|CHARACTER_LENGTH|CHAR_LENGTH|CHR|CLOB|TO_CLOB|COALESCE|COLLATION_KEY|COMPARE_DECFLOAT|CONCAT|CONTAINS|COS|COSH|DATE|DAY|DAYOFMONTH|DAYOFWEEK|DAYOFWEEK_ISO|DAYOFYEAR|DAYS|DBCLOB|DECRYPT_BINARY|DECRYPT_BIT|DECRYPT_CHAR|DECRYPT_DB|DEGREES|DIFFERENCE|DIGITS|DOUBLE|DOUBLE_PRECISION|DSN_XMLVALIDATE|EMPTY_BLOB|EMPTY_CLOB|EMPTY_DBCLOB|EMPTY_NCLOB|ENCRYPT_TDES|EXP|EXTRACT|FLOAT|FLOOR|GENERATE_UNIQUE|GETHINT|GETVARIABLE|GRAPHIC|HEX|HOUR|IDENTITY_VAL_LOCAL|IFNULL|INSERT|INTEGER|INT|JULIAN_DAY|LAST_DAY|LCASE|LEFT|LENGTH|LN|LOCATE|LOCATE_IN_STRING|LOG10|LOWER|LTRIM|MICROSECOND|MIDNIGHT_SECONDS|MINUTE|MOD|MONTH|MONTHS_BETWEEN|MQREAD|MQREADCLOB|MQRECEIVE|MQRECEIVECLOB|MQSEND|MULTIPLY_ALT|NEXT_DAY|NORMALIZE_DECFLOAT|NORMALIZE_STRING|NULLIF|NVL|OVERLAY|PACK|POSITION|POSSTR|POWER|QUANTIZE|QUARTER|RADIANS|RAISE_ERROR|RAND|RANDOM|REAL|REC2XML|REPEAT|REPLACE|RID|RIGHT|ROUND|ROUND_TIMESTAMP|RTRIM|SCORE|SECOND|SIGN|SIN|SINH|SMALLINT|SOUND|SOAPHTTPC|SOAPHTTPNC|SOAPHTTPV|SPACE|SQRT|STRIP|STRLEFT|STRPOS|STRRIGHT|SUBSTR|SUBSTRING|TAN|TANH|TIME|TIMESTAMP|TIMESTAMP_FORMAT|TIMESTAMP_ISO|TIMESTAMP_TZ|TO_CHAR|TO_DATE|TO_NUMBER|TOTALORDER|TO_TIMESTAMP|TRANSLATE|TRIM|TRIM_ARRAY|TRUNCATE|TRUNC|TRUNC_TIMESTAMP|UCASE|UNICODE|UNICODE_STR|UNISTR|UPPER|VALUE|VARBINARY|VARCHAR|VARCHAR9|VARCHAR_BIT_FORMAT|VARCHAR_FORMAT|VARGRAPHIC|VERIFY_GROUP_FOR_USER|VERIFY_ROLE_FOR_USER|VERIFY_TRUSTED_CONTEXT_ROLE_FOR_USER|WEEK|WEEK_ISO|WRAP|XMLATTRIBUTES|XMLCOMMENT|XMLCONCAT|XMLDOCUMENT|XMLELEMENT|XMLFOREST|XMLMODIFY|XMLNAMESPACES|XMLPARSE|XMLPI|XMLQUERY|XMLSERIALIZE|XMLTEXT|XMLXSROBJECTID|XSLTRANSFORM|YEAR)\\b\\s*\\(",
          "name": "support.function.scalar.sql.c"
        },
        {
          "match": "(?i)\\b(SMALLINT|INTEGER|BIGINT|FLOAT|DECIMAL|DECFLOAT|CHAR|VARCHAR|CLOB|GRAPHIC|VARGRAPHIC|DBCLOB|BINARY|VARBINARY|BLOB|DATE|TIME|TIMESTAMP|ROWID|XML)\\b(\\s*\\([^)]*\\))?",
          "name": "storage.type.sql.c"
        },
        {
          "match": "\\b([0-9]+(\\.([0-9]+))?|\\.[0-9]+)\\b",
          "name": "constant.numeric.sql.c"
        },
        {
          "name": "string.quoted.single.sql.c",
          "begin": "'",
          "end": "'",
          "patterns": [
            {
              "match": "''",
              "name": "constant.character.escape.sql.c"
            }
          ]
        },
        {
          "match": ":\\s*([a-zA-Z_][a-zA-Z0-9_]*)",
          "captures": {
            "0": { "name": "variable.parameter.sql.c" }
          }
        }
      ]
    }
  }
} 